if("undefined"!=typeof jQuery){(function(e){e.imgpreload=function(t,n){n=e.extend({},e.fn.imgpreload.defaults,n instanceof Function?{all:n}:n);if("string"==typeof t){t=new Array(t)}var r=new Object;var i=new Object;var s=0;var o=0;e.each(t,function(t,u){var a=u;if("string"!=typeof u){var f=e(u);a=f.attr("src");if(!a){a=f.css("background").match(/url\((['"]?)(.*)\1\)/i);a=a?a[2]:false}}if(a&&a!=""&&!r[a]){var l=new Image;var c=r[a]=typeof u=="string"?l:u;o++;s++;e(l).bind("load error",function(t){e(this).unbind("load error");if(!i[this.src]){i[this.src]=true;s--;e.data(c,"loaded","error"==t.type?false:true);if(n.each instanceof Function){n.each.call(c,s,o)}if(s==0){n.all.call(i)}}});l.src=a}})};e.fn.imgpreload=function(t){e.imgpreload(this,t);return this};e.fn.imgpreload.defaults={each:null,all:null}})(jQuery)}