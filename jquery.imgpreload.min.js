if("undefined"!=typeof jQuery){(function(a){a.imgpreload=function(c,g){g=a.extend({},a.fn.imgpreload.defaults,g instanceof Function?{all:g}:g);if("string"==typeof c){c=new Array(c)}var e=new Object;var b=new Object;var d=0;var f=0;a.each(c,function(k,j){var i=j;if("string"!=typeof j){i=a(j).attr("src")||a(j).css("background-image").replace(/^url\((?:"|')?(.*)(?:'|")?\)$/mg,"$1")}if(!e[i]){var m=new Image;var h=e[i]=typeof j=="string"?m:j;f++;d++;a(m).bind("load error",function(l){a(this).unbind("load error");if(!b[this.src]){b[this.src]=true;d--;a.data(h,"loaded","error"==l.type?false:true);if(g.each instanceof Function){g.each.call(h,d,f)}if(d==0){g.all.call(b)}}});m.src=i}})};a.fn.imgpreload=function(b){a.imgpreload(this,b);return this};a.fn.imgpreload.defaults={each:null,all:null}})(jQuery)};